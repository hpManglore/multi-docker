{"ast":null,"code":"import _regeneratorRuntime from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vrvembassy1/work/docker/complex/multi-docker/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/vrvembassy1/work/docker/complex/multi-docker/client/src/Fib.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Panel, Modal, Button, FormGroup, ControlLabel, FormControl } from 'react-bootstrap';\nvar api = 'http://localhost:5000';\n\nvar Fib =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Fib, _Component);\n\n  function Fib(props) {\n    var _this;\n\n    _classCallCheck(this, Fib);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Fib).call(this, props));\n\n    _this.handleselectedFile = function (event) {\n      console.log(event.target.files[0].name);\n\n      if (event.target.files[0].size < 5263360 && (event.target.files[0].type === 'image/jpg' || event.target.files[0].type === 'image/png' || event.target.files[0].type === 'image/jpeg')) {\n        // this.setState({\n        // selectedFile: event.target.files[0],\n        // loaded: 0,\n        // img_error:''\n        // },()=>{\n        //     console.log(this.state)\n        // })\n        _this.setState({\n          items: {\n            itemstatus: {\n              value: event.target.files[0].name\n            }\n          }\n        });\n      } else {\n        _this.setState({\n          img_error: \"Image should be jpg,jpeg and png and maximum size 5MB\"\n        });\n      }\n    };\n\n    _this.state = {\n      seenIndexes: [],\n      values: {},\n      index: '',\n      items: {\n        itemstatus: {\n          value: 'available',\n          valid: true\n        }\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Fib, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fetchValues();\n\n              case 2:\n                _context.next = 4;\n                return this.fetchIndexes();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"fetchValues\",\n    value: function () {\n      var _fetchValues = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var values;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(api + '/api/values/current');\n\n              case 2:\n                values = _context2.sent;\n                console.log(\"data\", values.data);\n                _context2.next = 6;\n                return this.setState({\n                  values: values.data\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchValues() {\n        return _fetchValues.apply(this, arguments);\n      }\n\n      return fetchValues;\n    }()\n  }, {\n    key: \"fetchIndexes\",\n    value: function () {\n      var _fetchIndexes = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var indexes;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(api + '/api/values/all');\n\n              case 2:\n                indexes = _context3.sent;\n                _context3.next = 5;\n                return this.setState({\n                  seenIndexes: indexes.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchIndexes() {\n        return _fetchIndexes.apply(this, arguments);\n      }\n\n      return fetchIndexes;\n    }()\n  }, {\n    key: \"renderSeenIndexes\",\n    value: function renderSeenIndexes() {\n      return this.state.seenIndexes.map(function (_ref) {\n        var number = _ref.number;\n        return number;\n      }).join(',');\n    }\n  }, {\n    key: \"renderValues\",\n    value: function renderValues() {\n      console.log(\"values\", this.state.values);\n      var entries = [];\n\n      for (var key in this.state.values) {\n        entries.push(React.createElement(\"div\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"For Index \", key, \" i calculated \", this.state.values[key]));\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // event.preventDefault();\n                data = {\n                  index: this.state.index,\n                  image: this.state.items.itemstatus.value\n                };\n                console.log(\"called\");\n                _context4.next = 4;\n                return axios.post(api + '/api/values/input', {\n                  data: data\n                });\n\n              case 4:\n                _context4.next = 6;\n                return this.setState({\n                  index: '',\n                  items: {\n                    itemstatus: {\n                      value: ''\n                    }\n                  }\n                });\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function handleSubmit() {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var e = event.target.value;\n      this.setState({\n        index: e\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Enter Your Index\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.index,\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Indexes I have seen\"), this.renderSeenIndexes(), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        validationState: this.state.items.itemstatus.valid ? 'success' : 'error',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Item image  \", React.createElement(\"span\", {\n        className: \"text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"*\"), React.createElement(\"input\", {\n        type: \"file\",\n        \"max-size\": \"5263360\",\n        name: \"\",\n        id: \"\",\n        accept: \"image/gif, image/jpeg, image/x-png\",\n        onChange: this.handleselectedFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, this.state.img_error))));\n    }\n  }]);\n\n  return Fib;\n}(Component);\n\nexport default Fib;","map":{"version":3,"sources":["/home/vrvembassy1/work/docker/complex/multi-docker/client/src/Fib.js"],"names":["React","Component","axios","Panel","Modal","Button","FormGroup","ControlLabel","FormControl","api","Fib","props","handleselectedFile","event","console","log","target","files","name","size","type","setState","items","itemstatus","value","img_error","state","seenIndexes","values","index","valid","fetchValues","fetchIndexes","get","data","indexes","map","number","join","entries","key","push","image","post","e","handleChange","bind","handleSubmit","renderSeenIndexes","color"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAmB,OAAnB;AACA,SAAQC,KAAR,EAAcC,KAAd,EAAoBC,MAApB,EAA2BC,SAA3B,EAAqCC,YAArC,EAAkDC,WAAlD,QAAoE,iBAApE;AACA,IAAIC,GAAG,GAAC,uBAAR;;IACMC,G;;;;;AACN,eAAYC,KAAZ,EACA;AAAA;;AAAA;;AACI,6EAAMA,KAAN;;AADJ,UAiFAC,kBAjFA,GAiFqB,UAAAC,KAAK,EAAI;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBC,IAAlC;;AACA,UAAGL,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBE,IAAtB,GAA6B,OAA7B,KAAyCN,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBG,IAAtB,KAA+B,WAA/B,IAA8CP,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBG,IAAtB,KAA+B,WAA7E,IAA4FP,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBG,IAAtB,KAA+B,YAApK,CAAH,EAAqL;AACjL;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,cAAKC,QAAL,CAAc;AACVC,UAAAA,KAAK,EAAC;AACFC,YAAAA,UAAU,EAAC;AACPC,cAAAA,KAAK,EAACX,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBC;AADrB;AADT;AADI,SAAd;AAOH,OAhBD,MAiBI;AACA,cAAKG,QAAL,CAAc;AACVI,UAAAA,SAAS,EAAC;AADA,SAAd;AAGH;AACF,KAzGH;;AAGI,UAAKC,KAAL,GAAW;AAEPC,MAAAA,WAAW,EAAC,EAFL;AAGPC,MAAAA,MAAM,EAAC,EAHA;AAIPC,MAAAA,KAAK,EAAC,EAJC;AAKPP,MAAAA,KAAK,EAAC;AACFC,QAAAA,UAAU,EAAC;AAACC,UAAAA,KAAK,EAAC,WAAP;AAAmBM,UAAAA,KAAK,EAAC;AAAzB;AADT;AALC,KAAX;AAHJ;AAaC;;;;;;;;;;;;;uBAEQ,KAAKC,WAAL,E;;;;uBACA,KAAKC,YAAL,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAIY9B,KAAK,CAAC+B,GAAN,CAAUxB,GAAG,GAAC,qBAAd,C;;;AAAbmB,gBAAAA,M;AACJd,gBAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBa,MAAM,CAACM,IAA1B;;uBACM,KAAKb,QAAL,CAAc;AAChBO,kBAAAA,MAAM,EAACA,MAAM,CAACM;AADE,iBAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAMYhC,KAAK,CAAC+B,GAAN,CAAUxB,GAAG,GAAC,iBAAd,C;;;AAAd0B,gBAAAA,O;;uBAEA,KAAKd,QAAL,CAAc;AAChBM,kBAAAA,WAAW,EAACQ,OAAO,CAACD;AADJ,iBAAd,C;;;;;;;;;;;;;;;;;;wCAKR;AACI,aAAO,KAAKR,KAAL,CAAWC,WAAX,CAAuBS,GAAvB,CAA2B;AAAA,YAAEC,MAAF,QAAEA,MAAF;AAAA,eAAYA,MAAZ;AAAA,OAA3B,EAA+CC,IAA/C,CAAoD,GAApD,CAAP;AACH;;;mCAGD;AACIxB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqB,KAAKW,KAAL,CAAWE,MAAhC;AACA,UAAMW,OAAO,GAAC,EAAd;;AAEA,WAAI,IAAIC,GAAR,IAAe,KAAKd,KAAL,CAAWE,MAA1B,EACA;AACIW,QAAAA,OAAO,CAACE,IAAR,CACI;AAAK,UAAA,GAAG,EAAED,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACuBA,GADvB,oBAC0C,KAAKd,KAAL,CAAWE,MAAX,CAAkBY,GAAlB,CAD1C,CADJ;AAKH;AACJ;;;;;;;;;;;;AAGG;AAEIN,gBAAAA,I,GAAK;AACLL,kBAAAA,KAAK,EAAC,KAAKH,KAAL,CAAWG,KADZ;AAELa,kBAAAA,KAAK,EAAC,KAAKhB,KAAL,CAAWJ,KAAX,CAAiBC,UAAjB,CAA4BC;AAF7B,iB;AAITV,gBAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;uBACMb,KAAK,CAACyC,IAAN,CAAWlC,GAAG,GAAC,mBAAf,EAAmC;AAACyB,kBAAAA,IAAI,EAAJA;AAAD,iBAAnC,C;;;;uBACA,KAAKb,QAAL,CAAc;AAChBQ,kBAAAA,KAAK,EAAC,EADU;AAEhBP,kBAAAA,KAAK,EAAC;AACFC,oBAAAA,UAAU,EAAC;AACPC,sBAAAA,KAAK,EAAC;AADC;AADT;AAFU,iBAAd,C;;;;;;;;;;;;;;;;;;iCASGX,K,EACb;AACI,UAAI+B,CAAC,GAAC/B,KAAK,CAACG,MAAN,CAAaQ,KAAnB;AACA,WAAKH,QAAL,CAAc;AACVQ,QAAAA,KAAK,EAACe;AADI,OAAd;AAIH;;;6BA4BO;AACJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADR,EAEQ;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWG,KAArC;AAA4C,QAAA,QAAQ,EAAE,KAAKgB,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFR,EAGQ;AAAQ,QAAA,OAAO,EAAE,KAAKC,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHR,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAJJ,EAMQ,KAAKE,iBAAL,EANR,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACoB,oBAAC,SAAD;AAAW,QAAA,eAAe,EAAE,KAAKtB,KAAL,CAAWJ,KAAX,CAAiBC,UAAjB,CAA4BO,KAA5B,GAAoC,SAApC,GAA+C,OAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAEgB;AAAM,QAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFhB,EAII;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,oBAAS,SAA5B;AAAuC,QAAA,IAAI,EAAC,EAA5C;AAA+C,QAAA,EAAE,EAAC,EAAlD;AAAqD,QAAA,MAAM,EAAC,oCAA5D;AAAiG,QAAA,QAAQ,EAAE,KAAKlB,kBAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAKI;AAAM,QAAA,KAAK,EAAE;AAACqC,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAKvB,KAAL,CAAWD,SAAxC,CALJ,CADpB,CAXJ,CADJ;AAuBH;;;;EArIiBxB,S;;AAwIlB,eAAeS,GAAf","sourcesContent":["import React,{Component} from 'react';\nimport axios  from 'axios';\nimport {Panel,Modal,Button,FormGroup,ControlLabel,FormControl} from 'react-bootstrap';\nlet api='http://localhost:5000';\nclass Fib extends Component{\nconstructor(props)\n{\n    super(props);\n\n    this.state={\n\n        seenIndexes:[],\n        values:{},\n        index:'',\n        items:{\n            itemstatus:{value:'available',valid:true}\n        },\n\n    }\n}\nasync componentWillMount(){\n   await this.fetchValues();\n   await this.fetchIndexes();\n}\nasync fetchValues()\n{\n    let values=await axios.get(api+'/api/values/current');\n    console.log(\"data\",values.data);\n    await this.setState({\n        values:values.data\n    })\n}\nasync fetchIndexes()\n{\n  const indexes=await axios.get(api+'/api/values/all');\n\n  await this.setState({\n      seenIndexes:indexes.data\n  })\n}\nrenderSeenIndexes()\n{\n    return this.state.seenIndexes.map(({number})=>number).join(',');\n}\n\nrenderValues()\n{\n    console.log(\"values\",this.state.values);\n    const entries=[];\n\n    for(let key in this.state.values)\n    {\n        entries.push(\n            <div key={key}>\n                        For Index {key} i calculated {this.state.values[key]}\n            </div>\n        )\n    }\n}\n\nasync handleSubmit(){\n    // event.preventDefault();\n\n    let data={\n        index:this.state.index,\n        image:this.state.items.itemstatus.value\n    }\n    console.log(\"called\");\n    await axios.post(api+'/api/values/input',{data});\n    await this.setState({\n        index:'',\n        items:{\n            itemstatus:{\n                value:''\n            }\n        }\n    })\n}\nhandleChange(event)\n{\n    let e=event.target.value;\n    this.setState({\n        index:e\n       \n    })\n}\n\nhandleselectedFile = event => {\n    console.log(event.target.files[0].name);\n    if(event.target.files[0].size < 5263360 && (event.target.files[0].type === 'image/jpg' || event.target.files[0].type === 'image/png' || event.target.files[0].type === 'image/jpeg')){\n        // this.setState({\n        // selectedFile: event.target.files[0],\n        // loaded: 0,\n        // img_error:''\n        // },()=>{\n        //     console.log(this.state)\n        // })\n\n        this.setState({\n            items:{\n                itemstatus:{\n                    value:event.target.files[0].name\n                }\n            }\n        })\n    }\n    else{\n        this.setState({\n            img_error:\"Image should be jpg,jpeg and png and maximum size 5MB\"\n        })\n    }\n  }\n\nrender(){\n    return (\n        <div>\n                <label>Enter Your Index</label>\n                <input type=\"text\" value={this.state.index} onChange={this.handleChange.bind(this)}/>\n                <button onClick={this.handleSubmit.bind(this)}>Submit</button>\n            <h3>Indexes I have seen</h3>\n            {\n                this.renderSeenIndexes()\n            }\n            {/* <h3>Calculated Values:</h3>\n            {this.renderValues()} */}\n\n            <div > \n                                <FormGroup validationState={this.state.items.itemstatus.valid ? 'success': 'error'}>\n                                {/* <ControlLabel> */}\n                                    Item image  <span className=\"text-danger\">*</span>\n                                {/* </ControlLabel> */}\n                                    <input type=\"file\" max-size=\"5263360\"  name=\"\" id=\"\" accept=\"image/gif, image/jpeg, image/x-png\" onChange={this.handleselectedFile}/>\n                                    <span style={{color:'red'}}>{this.state.img_error}</span>\n                                </FormGroup> \n                            </div>\n        </div>\n    )\n}\n}\n\nexport default Fib;"]},"metadata":{},"sourceType":"module"}